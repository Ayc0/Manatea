<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <script width="100%" transpile>const add = tea => Math.min(50, tea + 1);
    const subtract = tea => Math.max(0, tea - 1);

    // Define store
    const counter = createCup(0);

    const increment = () => counter(add);
    const decrement = () => counter(subtract);

    const App = () => (
      <div>
        Unnamed counter <br />
        <button onClick={increment}>+</button>
        <button onClick={decrement}>-</button> <br />
        <Manatee cup={counter}>{tea => tea}</Manatee> <br />
      </div>
    );
  </script>

  <script width="100%" transpile>const add = tea => Math.min(50, tea + 1);
    const subtract = tea => Math.max(0, tea - 1);

    const counter = createCup(0, "counter");

    const increment = () => counter(add);
    const decrement = () => counter(subtract);

    const App = () => (
      <div>
        Named counter <br />
        <button onClick={increment}>+</button>
        <button onClick={decrement}>-</button> <br />
        <Manatee cup="counter">{tea => tea}</Manatee> <br />
      </div>
    );
  </script>

  <script>
    [].forEach.call(document.querySelectorAll('script[transpile]'), script => {
      const iframe = document.createElement('iframe');
      iframe.setAttribute('frameborder', 0);
      iframe.setAttribute('height', script.getAttribute('height'));
      iframe.setAttribute('width', script.getAttribute('width'));
      iframe.setAttribute('src', "code.html?content=" + script.textContent.replace(/\n(    )?/g, 'Â¤'));
      script.parentNode.replaceChild(iframe, script);
    }); 
  </script>
</body>

</html>