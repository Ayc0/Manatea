<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Manatea</title>
  </head>

  <body>
    <script transpile type="text/babel">
      const counter = orderCup(0, tea => Math.min(50, Math.max(0, tea)));

      const increment = () => counter(tea => tea + 1);
      const decrement = () => counter(tea => tea - 1);

      const App = () => (
        <React.Fragment>
          &#60;Infuser&#62;
          <br />
          <Infuser cup={counter}>{tea => tea}</Infuser>{' '}
          <button onClick={increment}>+</button>
          <button onClick={decrement}>-</button>
        </React.Fragment>
      );
    </script>

    <script transpile type="text/babel">
      const counter = orderCup(0, tea => Math.min(50, Math.max(0, tea)));

      const increment = () => counter(tea => tea + 1);
      const decrement = () => counter(tea => tea - 1);

      const Tea = () => {
        const [tea] = useInfuser(counter);
        return tea;
      };

      const App = () => (
        <React.Fragment>
          &#60;useInfuser()&#62;
          <br />
          <Tea /> <button onClick={increment}>+</button>
          <button onClick={decrement}>-</button>
        </React.Fragment>
      );
    </script>

    <script type="text/javascript">
      [].forEach.call(
        document.querySelectorAll('script[transpile]'),
        script => {
          const iframe = document.createElement('iframe');
          iframe.setAttribute('frameborder', 0);
          iframe.setAttribute('width', '100%');
          iframe.setAttribute('height', '500px');
          iframe.setAttribute(
            'src',
            'code.html?content=' +
              script.textContent.replace(/\n(    )?/g, 'Â¤'),
          );
          script.parentNode.replaceChild(iframe, script);
        },
      );
    </script>
  </body>
</html>
